{"path":"api-reference/storefront/storefront-subscriptions/subscription/postsubscriptions","templateID":0,"sharedPropsHashes":{"nav":"Z2k7O5R","sidebarTree":"jyzzw","namespace":"Zd6xn0"},"localProps":{"version":"1.3","crumbs":[{"content":"API Reference","to":"/api-reference"},{"content":"Storefront APIs","to":"/api-reference/storefront"},{"content":"Email Subscriptions","to":"/api-reference/storefront/storefront-subscriptions"},{"content":"Subscription","to":"/api-reference/storefront/storefront-subscriptions/subscription"},{"content":"Create a Subscription","to":"/api-reference/storefront/storefront-subscriptions/subscription/postsubscriptions"}],"page":{"meta":{"title":"Create a Subscription - Subscription - Email Subscriptions - Storefront APIs - API Reference","url":"/api-reference/storefront/storefront-subscriptions/subscription/postsubscriptions","description":"Creates or updates an email subscription.\n\nBy default, customers receive abandoned cart emails as soon as they provide their email address in the checko..."},"title":"Create a Subscription","parsedPath":["pages","/api-reference","data","children",0,"data","children",7,"data","children",0,"data","children",0],"rootPagePath":"/api-reference","path":"/api-reference/storefront/storefront-subscriptions/subscription/postsubscriptions","isSubpage":true,"route":{"path":"/postsubscriptions"},"data":{"blocks":[{"type":"text","data":"Creates or updates an email subscription.\n\nBy default, customers receive abandoned cart emails as soon as they provide their email address in the checkout flow. They can opt out using this endpoint.\n\nHowever, if **Store Settings > Miscellaneous > Require Consent** is enabled, Abandoned Cart Emails are not sent by default, and the customer should opt-in.\n\n<div class=\"HubBlock--callout\">\n<div class=\"CalloutBlock--info\">\n<div class=\"HubBlock-content\"> \n\n> ### Note\n> The Send a Test Request feature is not currently supported for this endpoint.\n \n</div>\n</div>\n</div>","header":{"title":"/subscriptions","subtitle":"Create a Subscription","token":"post"}},{"type":"text","data":"## Request Body","config":{"classNames":["ApiOperation--requestBodyTitle mt-10","-mb-10"]}},{"type":"accordion","data":{"children":[{"title":"Schema","config":{"defaultOpen":true},"blocks":[{"type":"jsonSchema","data":{"type":"object","properties":{"email":{"type":"string","description":"Email of subscriber"},"acceptsMarketingNewsletter":{"type":"boolean","description":"Has subscriber provided consent for receiving Marketing emails."},"acceptsAbandonedCartEmails":{"type":"boolean","description":"Has subscriber provided consent for receiving Abandon Cart emails."}}},"config":{"hideRoot":false}}]}]},"config":{"classNames":["ApiOperation--requestBody"]}},{"type":"text","data":"## Responses","config":{"classNames":["ApiOperation--responsesTitle mt-10 -mb-14"]}},{"type":"tabs","data":{"children":[{"title":"200","blocks":[{"type":"accordion","data":{"children":[{"title":"Schema","config":{"defaultOpen":true},"blocks":[{"type":"jsonSchema","data":{"type":"object","description":"Subscription properties.","properties":{"id":{"type":"integer","description":"The unique numeric ID of the subscriber; increments sequentially.\n"},"email":{"type":"string","description":"The email of the subscriber. Must be unique.\n"},"firstName":{"type":"string","description":"The first name of the subscriber.\n","minLength":0,"maxLength":255},"lastName":{"type":"string","description":"The last name of the subscriber.\n","minLength":0,"maxLength":255},"source":{"type":"string","description":"The source of the subscriber. Values are: `storefront`, `order`, or `custom`.\n","minLength":0,"maxLength":255},"orderId":{"type":"integer","description":"The ID of the source order, if source was an order.\n","x-nullable":true,"minimum":1,"maximum":2147483647},"consents":{"type":"array","description":"The collection of consents the shopper is subscribing to.\n"}}}}]}]}}]}]},"config":{"classNames":["ApiOperation--responses"]}},{"type":"text","data":"## Send a Test Request","config":{"classNames":["ApiOperation--tryItOutTitle mt-10 -mb-10"]}},{"type":"http","data":{"method":"post","url":"https://{$$.env.store_domain}/subscriptions","headers":{"Content-Type":"application/json"},"body":"{\n  \"email\": \"string\",\n  \"acceptsMarketingNewsletter\": true,\n  \"acceptsAbandonedCartEmails\": true\n}"},"config":{"canvas":false,"paddedInner":false,"classNames":["ApiOperation--tryItOut"]}}],"children":[]}}}}
