{"path":"api-reference/storefront/cookie-consent/consent/postconsent","templateID":0,"sharedPropsHashes":{"nav":"Z2k7O5R","sidebarTree":"jyzzw","namespace":"Zd6xn0"},"localProps":{"version":"1.3","crumbs":[{"content":"API Reference","to":"/api-reference"},{"content":"Storefront APIs","to":"/api-reference/storefront"},{"content":"Cookie Consent","to":"/api-reference/storefront/cookie-consent"},{"content":"Consent","to":"/api-reference/storefront/cookie-consent/consent"},{"content":"Set Cookie Consent Preferences","to":"/api-reference/storefront/cookie-consent/consent/postconsent"}],"page":{"meta":{"title":"Set Cookie Consent Preferences - Consent - Cookie Consent - Storefront APIs - API Reference","url":"/api-reference/storefront/cookie-consent/consent/postconsent","description":"Sets the status of a customer's consent to allow data collection by cookies and scripts according to the following consent categories:\n\nAnalytics — Thes..."},"title":"Set Cookie Consent Preferences","parsedPath":["pages","/api-reference","data","children",0,"data","children",2,"data","children",0,"data","children",0],"rootPagePath":"/api-reference","path":"/api-reference/storefront/cookie-consent/consent/postconsent","isSubpage":true,"route":{"path":"/postconsent"},"data":{"blocks":[{"type":"text","data":"Sets the status of a customer's consent to allow data collection by cookies and scripts according to the following consent categories:\n\n\n  2. Analytics — These cookies provide statistical information on site usage so the store owner can improve the website over time.  \n  3. Functional — These cookies enable enhanced functionality, such as videos and live chat. If a shopper does not allow these, then some or all of these functions may not work properly. \n  4. Targeting; Advertising — These cookies allow merchants to create profiles or personalize content to enhance users' shopping experience.\n  \n  \nThis endpoint only works if the cookie consent feature is enabled. It is assumed the shopper has not consented to anything until a value is explicitly set. The request body must be populated with a complete set of allowed and denied categories.\n\nOnce set, consent preferences will be saved as a cookie for guest shoppers. Consent preferences will be persisted to a shopper's account to be used for future sessions once they have logged in. Consent preferences can also be managed using the [Customer Consent](https://developer.bigcommerce.com/api-reference/store-management/customers-v3/customer-consent/) V3 endpoint.   ","header":{"title":"/consent","subtitle":"Set Cookie Consent Preferences","token":"post"}},{"type":"text","data":"## Request Body\n\nData sent to the [Update Customer Consent](https://developer.bigcommerce.com/api-reference/store-management/customers-v3/customer-consent/customersconsentbycustomerid-put) Customers V3 endpoint when creating a customer during checkout","config":{"classNames":["ApiOperation--requestBodyTitle mt-10","-mb-4"]}},{"type":"accordion","data":{"children":[{"title":"1 Example","blocks":[{"type":"tabs","data":{"children":[{"title":"Example","blocks":[{"type":"code","data":"{\n  \"allow\": [\n    2,\n    3\n  ],\n  \"deny\": [\n    4\n  ]\n}"}]}]}}]},{"title":"Schema","config":{"defaultOpen":true},"blocks":[{"type":"jsonSchema","data":{"type":"object","title":"ConsentPreferences","description":"List of allowed and denied consent categories. Must be populated with a complete set of allowed and denied categories.\n\nConfigurable categories are:\n\n2 - Functional\n3 - Analytics\n4 - Targeting; Advertising\n\nFor further definition of these categories, see [Scripts API](https://developer.bigcommerce.com/api-docs/store-management/scripts).","properties":{"allow":{"type":"array","description":"Explicitly allowed consent categories. Allowed values are 2, 3, 4.","items":{"type":"integer","enum":[2,3,4],"example":3}},"deny":{"type":"array","description":"Denied consent categories. Allowed values are 2, 3, 4.","items":{"type":"integer","enum":[2,3,4],"example":4}}},"required":["allow","deny"],"$schema":"http://json-schema.org/draft-04/schema#"},"config":{"hideRoot":false}}]}]},"config":{"classNames":["ApiOperation--requestBody"]}},{"type":"text","data":"## Responses","config":{"classNames":["ApiOperation--responsesTitle mt-10 -mb-14"]}},{"type":"tabs","data":{"children":[{"title":"200","blocks":[{"type":"text","data":"Consent Settings Saved"}]},{"title":"400","blocks":[{"type":"text","data":"Invalid input"}]}]},"config":{"classNames":["ApiOperation--responses"]}},{"type":"text","data":"## Send a Test Request","config":{"classNames":["ApiOperation--tryItOutTitle mt-10 -mb-10"]}},{"type":"http","data":{"method":"post","url":"https://{$$.env.store_domain}/api/storefront/consent","headers":{"Content-Type":"application/json"},"body":"{\n  \"allow\": [\n    2,\n    3\n  ],\n  \"deny\": [\n    4\n  ]\n}"},"config":{"canvas":false,"paddedInner":false,"classNames":["ApiOperation--tryItOut"]}}],"children":[]}}}}
