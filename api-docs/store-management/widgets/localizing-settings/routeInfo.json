{"path":"api-docs/store-management/widgets/localizing-settings","templateID":0,"sharedPropsHashes":{"nav":"Z2k7O5R","sidebarTree":"Z1Jm3fi","namespace":"Zd6xn0"},"localProps":{"version":"1.3","crumbs":[{"content":"API Docs","to":"/api-docs"},{"content":"Management APIs","to":"/api-docs/store-management"},{"content":"Widgets","to":"/api-docs/store-management/widgets"},{"content":"Localizing Widget Template Settings","to":"/api-docs/store-management/widgets/localizing-settings"}],"page":{"meta":{"title":"Localizing Widget Template Settings - Widgets - Management APIs - API Docs","url":"/api-docs/store-management/widgets/localizing-settings","description":"Localizing Widget Template Settings\n\n\n\nOn this page\n\nMapping settings to translations\n\nSupported language code schemes\n\nResources\n\n\n\nYou can localize wi..."},"title":"Localizing Widget Template Settings","parsedPath":["pages","/api-docs","data","children",2,"data","children",11,"data","children",2],"rootPagePath":"/api-docs","path":"/api-docs/store-management/widgets/localizing-settings","isSubpage":true,"route":{"path":"/localizing-settings"},"data":{"blocks":[{"type":"text","data":"# Localizing Widget Template Settings\n\n<div class=\"otp\" id=\"no-index\">\n\n### On this page\n\n- [Mapping settings to translations](#mapping-settings-to-translations)\n- [Supported language code schemes](#supported-language-code-schemes)\n- [Resources](#resources)\n  \n</div>\n\nYou can localize widget template settings to the provided language translations using the internationalization (**i18n**) system.\n\nThis article explains how to localize your widget template settings and provides a practical example of how to map settings to translations. \n\n## Mapping settings to translations\n\nThe [widget template](https://developer.bigcommerce.com/api-reference/store-management/widgets/widget-template/getwidgettemplates) schema uses the `i18n.{SettingName}` internationalization format within labels to map settings to translation files. i18n's interpolation functionality makes it possible to integrate dynamic values into translations.\n\nYou can localize your widget template settings by defining translations in the `schema_translations` property of the widget template schema. \n\n### Localization example\n\nThe following example demonstrates how to add translations for the widget template settings using the `schema_translations` property. \n\n1. Identify all of the settings that need a translation. Each `label` value must start with the `i18n.` prefix. For example, `\"label\": \"i18n.LineColor\"`.\n2. Prepare your schema translations JSON object. It must contain a default language code along with the other languages you want to support formatted by two lowercase letters, a dash, and at least two alphanumeric characters. For more information, see the [Supported language code schemes](#supported-language-code-schemes) section below.\n\n**Schema translations example**\n\n```json\n{\n \"i18n.LineColor\": {\n   \"default\": \"Line color\",\n   \"fr-FR\": \"Couleur de la ligne\",\n   \"en\": \"Line color\",\n   \"zh-CN\": \"线条颜色\"\n },\n \"i18n.LineStyle\": {\n   \"default\": \"Line style\",\n   \"fr-FR\": \"Style de ligne\",\n   \"en\": \"Line style\",\n   \"zh-CN\": \"线型\"\n },\n \"i18n.LineWidth\": {\n   \"default\": \"Line width\",\n   \"fr-FR\": \"Largeur de ligne\",\n   \"en\": \"Line width\",\n   \"zh-CN\": \"行宽\"\n },\n \"i18n.LineThickness\": {\n   \"default\": \"Line Thickness\",\n   \"fr-FR\": \"Épaisseur de ligne\",\n   \"en\": \"Line Thickness\",\n   \"zh-CN\": \"线的粗细\"\n },\n \"i18n.Alignment\": {\n   \"default\": \"Alignment\",\n   \"fr-FR\": \"Alignement\",\n   \"en\": \"Alignment\",\n   \"zh-CN\": \"结盟\"\n }\n}\n```\n\n3. Stringify your data structure. You will pass it as a value to `schema_translations` in the next step.\n\n**Stringified schema translations**\n\n```json\n\"{\\n \\\"i18n.LineColor\\\": {\\n   \\\"default\\\": \\\"Line color\\\",\\n   \\\"fr-FR\\\": \\\"Couleur de la ligne\\\",\\n   \\\"en\\\": \\\"Line color\\\",\\n   \\\"zh-CN\\\": \\\"线条颜色\\\"\\n },\\n \\\"i18n.LineStyle\\\": {\\n   \\\"default\\\": \\\"Line style\\\",\\n   \\\"fr-FR\\\": \\\"Style de ligne\\\",\\n   \\\"en\\\": \\\"Line style\\\",\\n   \\\"zh-CN\\\": \\\"线型\\\"\\n },\\n \\\"i18n.LineWidth\\\": {\\n   \\\"default\\\": \\\"Line width\\\",\\n   \\\"fr-FR\\\": \\\"Largeur de ligne\\\",\\n   \\\"en\\\": \\\"Line width\\\",\\n   \\\"zh-CN\\\": \\\"行宽\\\"\\n },\\n \\\"i18n.LineThickness\\\": {\\n   \\\"default\\\": \\\"Line Thickness\\\",\\n   \\\"fr-FR\\\": \\\"Épaisseur de ligne\\\",\\n   \\\"en\\\": \\\"Line Thickness\\\",\\n   \\\"zh-CN\\\": \\\"线的粗细\\\"\\n },\\n \\\"i18n.Alignment\\\": {\\n   \\\"default\\\": \\\"Alignment\\\",\\n   \\\"fr-FR\\\": \\\"Alignement\\\",\\n   \\\"en\\\": \\\"Alignment\\\",\\n   \\\"zh-CN\\\": \\\"结盟\\\"\\n }\\n}\"\n```\n\n4. Create a widget template by sending a `POST` request to the [Create a Widget Template](https://developer.bigcommerce.com/api-reference/store-management/widgets/widget-template/createwidgettemplate) endpoint. The following example creates a simple text widget:\n\n```http\nPOST /stores/{{store_hash}}/v3/content/widget-templates\nHost: api.bigcommerce.com\nX-Auth-Token: {{ACCESS_TOKEN}}\nContent-Type: application/json\nAccept: application/json\n\n{\n  \"name\": \"Translated Text Widget\",\n  \"schema\": [\n {\n   \"type\": \"tab\",\n   \"label\": \"Design\",\n   \"sections\": [\n     {\n       \"settings\": [\n         {\n           \"type\": \"color\",\n           \"label\": \"i18n.LineColor\",\n           \"id\": \"color\",\n           \"default\": \"rgba(180, 186, 209, 1)\"\n         },\n         {\n           \"type\": \"select\",\n           \"label\": \"i18n.LineStyle\",\n           \"id\": \"style\",\n           \"default\": \"solid\",\n           \"typeMeta\": {\n             \"selectOptions\" : [\n               {\n                 \"label\": \"Solid\",\n                 \"value\": \"solid\"\n               },\n               {\n                 \"label\": \"Dashed\",\n                 \"value\": \"dashed\"\n               },\n               {\n                 \"label\": \"Dotted\",\n                 \"value\": \"dotted\"\n               }\n             ]\n           }\n         },\n         {\n          \"type\": \"range\",\n           \"label\": \"i18n.LineWidth\",\n           \"id\": \"width\",\n           \"default\": 100,\n           \"typeMeta\": {\n             \"rangeValues\": {\n               \"min\": 1,\n               \"max\": 100,\n               \"step\": 1,\n               \"unit\": \"%\"\n             }\n           }\n         },\n         {\n          \"type\": \"range\",\n           \"label\": \"i18n.LineThickness\",\n           \"id\": \"thickness\",\n           \"default\": 1,\n           \"typeMeta\": {\n             \"rangeValues\": {\n               \"min\": 1,\n               \"max\": 10,\n               \"step\": 1,\n               \"unit\": \"px\"\n             }\n           }\n         },\n         {\n           \"type\": \"alignment\",\n           \"label\": \"i18n.Alignment\",\n           \"id\": \"alignment\",\n           \"default\": {\n             \"horizontal\": \"center\",\n             \"vertical\": \"middle\"\n           },\n           \"typeMeta\": {\n             \"display\": \"both\"\n           }\n         }\n       ]\n     }\n   ]\n }\n],\n  \"schema_translations\": \"{\\n \\\"i18n.LineColor\\\": {\\n   \\\"default\\\": \\\"Line color\\\",\\n   \\\"fr-FR\\\": \\\"Couleur de la ligne\\\",\\n   \\\"en\\\": \\\"Line color\\\",\\n   \\\"zh-CN\\\": \\\"线条颜色\\\"\\n },\\n \\\"i18n.LineStyle\\\": {\\n   \\\"default\\\": \\\"Line style\\\",\\n   \\\"fr-FR\\\": \\\"Style de ligne\\\",\\n   \\\"en\\\": \\\"Line style\\\",\\n   \\\"zh-CN\\\": \\\"线型\\\"\\n },\\n \\\"i18n.LineWidth\\\": {\\n   \\\"default\\\": \\\"Line width\\\",\\n   \\\"fr-FR\\\": \\\"Largeur de ligne\\\",\\n   \\\"en\\\": \\\"Line width\\\",\\n   \\\"zh-CN\\\": \\\"行宽\\\"\\n },\\n \\\"i18n.LineThickness\\\": {\\n   \\\"default\\\": \\\"Line Thickness\\\",\\n   \\\"fr-FR\\\": \\\"Épaisseur de ligne\\\",\\n   \\\"en\\\": \\\"Line Thickness\\\",\\n   \\\"zh-CN\\\": \\\"线的粗细\\\"\\n },\\n \\\"i18n.Alignment\\\": {\\n   \\\"default\\\": \\\"Alignment\\\",\\n   \\\"fr-FR\\\": \\\"Alignement\\\",\\n   \\\"en\\\": \\\"Alignment\\\",\\n   \\\"zh-CN\\\": \\\"结盟\\\"\\n }\\n}\",\n  \"template\": \"<h1>{{textContent}}</h1>\"\n}\n```\n\n5. From the control panel, open [Page Builder](https://developer.bigcommerce.com/stencil-docs/page-builder/page-builder-overview) and locate your newly created widget template.\n6. Drag and drop the widget in a [region](https://developer.bigcommerce.com/api-docs/store-management/widgets/overview#regions) on a page to test it out.\n\n![Default language code](https://storage.googleapis.com/bigcommerce-production-dev-center/images/01-Localizing%20Widget%20Template%20Settings.png \"Default language code\")\n\n7. Change your store's language settings. You can do so in the control panel by going to [**My Profile** > **Edit Profile**](http://login.bigcommerce.com/deep-links/user-settings/profile). For this example, we are going to set the language to French.\n\n8. Return to Page Builder and test the widget again. The display language should now be French.\n\n![FR language code](https://storage.googleapis.com/bigcommerce-production-dev-center/images/03-Localizing%20Widget%20Template%20Settings.png \"FR language code\")\n\n## Supported language code schemes \n\nWidget templates support both [ISO 639‑1](https://en.wikipedia.org/wiki/ISO_639-1) and [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag) code schemes. The language code must follow a set format of two lowercase letters for a two-letter code system or two lowercase letters, a dash, and at least two alphanumeric characters for a multiple-character code system.\n\n<div class=\"HubBlock--callout\">\n<div class=\"CalloutBlock--info\">\n<div class=\"HubBlock-content\">\n\n> ### Note\n> * Translations must start with the `i18n.` prefix.\n> * Language code must contain a default value.\n> * You can reuse translations within the widget template schema, but translations within the `schema_translations.json` file must be unique.\n\n</div>\n</div>\n</div>\n\n## Resources\n\n- [Internationalization](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Internationalization)\n- [Page Builder](https://support.bigcommerce.com/s/article/Page-Builder?language=en_US)\n- [User Profile](https://support.bigcommerce.com/s/article/User-Profile?language=en_US)\n- [Widgets API Overview](https://developer.bigcommerce.com/api-docs/store-management/widgets/overview)"}],"children":[]}}}}
