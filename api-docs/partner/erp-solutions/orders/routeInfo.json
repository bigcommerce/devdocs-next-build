{"path":"api-docs/partner/erp-solutions/orders","templateID":0,"sharedPropsHashes":{"nav":"Z2k7O5R","sidebarTree":"Z1Jm3fi","namespace":"Zd6xn0"},"localProps":{"version":"1.3","crumbs":[{"content":"API Docs","to":"/api-docs"},{"content":"Partner Information","to":"/api-docs/partner"},{"content":"ERP Solutions","to":"/api-docs/partner/erp-solutions"},{"content":"Orders","to":"/api-docs/partner/erp-solutions/orders"}],"page":{"meta":{"title":"Orders - ERP Solutions - Partner Information - API Docs","url":"/api-docs/partner/erp-solutions/orders","description":"Orders Overview\n\n\n\nOn this page\n\nCreating an order\n\nChanging order status\n\nSpecifying order customer\n\nIncluding shipping addresses\n\nAdding products\n\nCre..."},"title":"Orders","parsedPath":["pages","/api-docs","data","children",9,"data","children",4,"data","children",4],"rootPagePath":"/api-docs","path":"/api-docs/partner/erp-solutions/orders","isSubpage":true,"route":{"path":"/orders"},"data":{"blocks":[{"type":"text","data":"# Orders Overview\n\n<div class=\"otp\" id=\"no-index\">\n\n### On this page\n- [Creating an order](#creating-an-order)\n- [Changing order status](#changing-order-status)\n- [Specifying order customer](#specifying-order-customer)\n- [Including shipping addresses](#including-shipping-addresses)\n- [Adding products](#adding-products)\n- [Creating order shipments](#creating-order-shipments)\n- [Shipping to multiple locations](#shipping-to-multiple-locations)\n- [Getting shipping quotes](#getting-shipping-quotes)\n- [Getting order taxes](#getting-order-taxes)\n- [Getting order transactions](#getting-order-transactions)\n- [Handling refunds](#handling-refunds)\n- [Calculating totals](#calculating-totals)\n- [FAQ](#faq)\n- [Related resources](#related-resources)\n\n</div>\n\nThis article introduces BigCommerce's [Orders V2](https://developer.bigcommerce.com/api-reference/store-management/orders) and [Orders V3](https://developer.bigcommerce.com/api-reference/store-management/order-transactions) REST API resources. [Orders V2](https://developer.bigcommerce.com/api-reference/store-management/orders) exposes endpoints for [creating](https://developer.bigcommerce.com/api-reference/store-management/orders/orders/createanorder), [reading](https://developer.bigcommerce.com/api-reference/store-management/orders/orders/getallorders), [updating](https://developer.bigcommerce.com/api-reference/store-management/orders/orders/updateanorder), and [deleting](https://developer.bigcommerce.com/api-reference/store-management/orders/orders/deleteallorders) orders; it also includes endpoints for managing [order shipments](https://developer.bigcommerce.com/api-reference/store-management/orders/order-shipments) and [order shipping addresses](https://developer.bigcommerce.com/api-reference/store-management/orders/order-shipping-addresses). [Orders V3](https://developer.bigcommerce.com/api-reference/store-management/order-transactions) surfaces [order transactions](https://developer.bigcommerce.com/api-reference/store-management/order-transactions/transactions/gettransactions) and [order refunds](https://developer.bigcommerce.com/api-reference/store-management/order-transactions/order-refunds/) endpoints. For information on processing order payments via API, see [Payments API Overview](https://developer.bigcommerce.com/api-docs/payments/payments-api-overview).\n\n### Prerequisites:\n* [A BigCommerce store](https://support.bigcommerce.com/s/article/Starting-a-Bigcommerce-Trial)\n* Access token for [API authentication](https://developer.bigcommerce.com/api-docs/getting-started/authentication/rest-api-authentication) with the following [scopes](https://developer.bigcommerce.com/api-docs/getting-started/authentication/rest-api-authentication#oauth-scopes):\n  * Orders - **Modify**\n  * Products - **Read**\n* [Product](https://developer.bigcommerce.com/api-reference/catalog/catalog-api/products/createproduct) with [variants](https://developer.bigcommerce.com/api-reference/store-management/catalog/product-variants/createvariant).\n\n## Creating an order\n\nTo [create an order](https://developer.bigcommerce.com/api-reference/store-management/orders/orders/createanorder), send a `POST` request to `/stores/{{STORE_HASH}}/v2/orders`.\n\n```http\nPOST https://api.bigcommerce.com/stores/{{STORE_HASH}}/v2/orders\nX-Auth-Token: {{ACCESS_TOKEN}}\nContent-Type: application/json\nAccept: application/json\n\n{\n  \"billing_address\": {\n    \"first_name\": \"Jane\",\n    \"last_name\": \"Doe\",\n    \"street_1\": \"123 Main Street\",\n    \"city\": \"Austin\",\n    \"state\": \"Texas\",\n    \"zip\": \"78751\",\n    \"country\": \"United States\",\n    \"country_iso2\": \"US\",\n    \"email\": \"janedoe@email.com\"\n  },\n  \"products\": [\n    {\n      \"name\": \"BigCommerce Coffee Mug\",\n      \"quantity\": 1,\n      \"price_inc_tax\": 50,\n      \"price_ex_tax\": 45\n    }\n  ]\n}\n```\n\n[![Open in Request Runner](https://storage.googleapis.com/bigcommerce-production-dev-center/images/Open-Request-Runner.svg)](https://developer.bigcommerce.com/api-reference/store-management/orders/orders/createanorder#requestrunner)\n\n<div class=\"HubBlock--callout\">\n<div class=\"CalloutBlock--info\">\n<div class=\"HubBlock-content\">\n\n> ### Note\n> * The example above contains the minimum required fields for a [create order](https://developer.bigcommerce.com/api-reference/store-management/orders/orders/createanorder) request.\n> * The product ordered is a *custom* product; custom products do not exist in the catalog.\n\n</div>\n</div>\n</div>\n\n## Changing order status\n\nSpecify [order status](https://developer.bigcommerce.com/api-reference/store-management/orders/order-status/getorderstatus) by including the `status_id` property in the [create order](https://developer.bigcommerce.com/api-reference/store-management/orders/orders/createanorder) request. To [update an order](https://developer.bigcommerce.com/api-reference/store-management/orders/orders/updateanorder) and change its status, send a `PUT` request to `/v2/orders/{order_id}`.\n\n```http\nPUT https://api.bigcommerce.com/stores/{{STORE_HASH}}/v2/orders/{order_id}\nX-Auth-Token: {{ACCESS_TOKEN}}\nContent-Type: application/json\nAccept: application/json\n\n{\n  \"status_id\": 2\n}\n```\n\n[![Open in Request Runner](https://storage.googleapis.com/bigcommerce-production-dev-center/images/Open-Request-Runner.svg)](https://developer.bigcommerce.com/api-reference/store-management/orders/orders/createanorder#requestrunner)\n\nTo [get a list of order statuses](https://developer.bigcommerce.com/api-reference/store-management/orders/order-status/getorderstatus), send a `GET` request to `/stores/{{STORE_HASH}}/v2/order_statuses`.\n\n```http\nGET https://api.bigcommerce.com/stores/{{STORE_HASH}}/v2/order_statuses\nX-Auth-Token: {{ACCESS_TOKEN}}\nContent-Type: application/json\nAccept: application/json\n```\n\n[![Open in Request Runner](https://storage.googleapis.com/bigcommerce-production-dev-center/images/Open-Request-Runner.svg)](https://developer.bigcommerce.com/api-reference/store-management/orders/order-status/getorderstatus#requestrunner)\n\n**Response:**\n\n```json\n[\n  {\n    \"id\": 0,\n    \"name\": \"Incomplete\",\n    \"system_label\": \"Incomplete\",\n    \"custom_label\": \"Incomplete - Testing\",\n    \"system_description\": \"An incomplete order happens when a shopper reached the payment page, but did not complete the transaction.\",\n    \"order\": 0\n  },\n  ...\n]\n```\n\n<div class=\"HubBlock--callout\">\n<div class=\"CalloutBlock--info\">\n<div class=\"HubBlock-content\">\n\n> ### Note\n> * If not specified, `status_id` defaults to `1`.\n> * The refunded status is neither paid nor unpaid.\n> * For information on changing `custom_label` in the control panel, see [Order Statuses](https://support.bigcommerce.com/s/article/Order-Statuses#rename).\n\n</div>\n</div>\n</div>\n\n\n## Specifying order customer\n\nSpecify the [customer](https://developer.bigcommerce.com/api-reference/store-management/customers-v3/customers/customersget#responses) by including a `customer_id` in the [create order](https://developer.bigcommerce.com/api-reference/store-management/orders/orders/createanorder) request.\n\n```http\nPOST https://api.bigcommerce.com/stores/{{STORE_HASH}}/v2/orders\nX-Auth-Token: {{ACCESS_TOKEN}}\nContent-Type: application/json\nAccept: application/json\n\n\n{\n  \"customer_id\": 1,\n  \"billing_address\": {...},\n  \"products\": [...]\n}\n```\n\n[![Open in Request Runner](https://storage.googleapis.com/bigcommerce-production-dev-center/images/Open-Request-Runner.svg)](https://developer.bigcommerce.com/api-reference/store-management/orders/orders/createanorder#requestrunner)\n\nTo [get a list of customers](https://developer.bigcommerce.com/api-reference/store-management/customers-v3/customers/customersget), send a `GET` request to `/stores/{{STORE_HASH}}/v3/customers`.\n\n```http\nGET https://api.bigcommerce.com/stores/{{STORE_HASH}}/v3/customers\nX-Auth-Token: {{ACCESS_TOKEN}}\nAccept: application/json\n```\n\n[![Open in Request Runner](https://storage.googleapis.com/bigcommerce-production-dev-center/images/Open-Request-Runner.svg)](https://developer.bigcommerce.com/api-reference/store-management/customers-v3/customers/customersget#requestrunner)\n\n<div class=\"HubBlock--callout\">\n<div class=\"CalloutBlock--info\">\n<div class=\"HubBlock-content\">\n\n> ### Note\n> * Set `customer_id` to `0` to create a guest order.\n\n</div>\n</div>\n</div>\n\n## Including shipping addresses\n\nAdd [shipping addresses](https://developer.bigcommerce.com/api-reference/store-management/orders/order-shipping-addresses/updateashippingaddress#request-body) by including a [`shipping_address` array](https://developer.bigcommerce.com/api-reference/store-management/orders/order-shipping-addresses/updateashippingaddress#request-body) in the [create order](https://developer.bigcommerce.com/api-reference/store-management/orders/orders/createanorder) request.\n\n```http\nPOST https://api.bigcommerce.com/stores/{{STORE_HASH}}/v2/orders\nX-Auth-Token: {{ACCESS_TOKEN}}\nContent-Type: application/json\nAccept: application/json\n\n\n{\n  \"billing_address\": {...},\n  \"shipping_addresses\": [\n    {\n      \"first_name\": \"Rusty\",\n      \"last_name\": \"Gates\",\n      \"company\": \"Example LLC\",\n      \"street_1\": \"123 Example ST\",\n      \"street_2\": \"\",\n      \"city\": \"Austin\",\n      \"state\": \"Texas\",\n      \"zip\": \"12345\",\n      \"country\": \"United States\",\n      \"country_iso2\": \"US\",\n      \"phone\": \"5128675309\",\n      \"email\": \"rusty.gates@example.com\"\n    }\n  ],\n  \"products\": [...]\n}\n```\n\n[![Open in Request Runner](https://storage.googleapis.com/bigcommerce-production-dev-center/images/Open-Request-Runner.svg)](https://developer.bigcommerce.com/api-reference/store-management/orders/orders/createanorder#requestrunner)\n\n\n<div class=\"HubBlock--callout\">\n<div class=\"CalloutBlock--info\">\n<div class=\"HubBlock-content\">\n\n> ### Note\n> * Add multiple shipping addresses to [ship to multiple locations](#shipping-to-multiple-locations).\n\n</div>\n</div>\n</div>\n\n## Adding products\n\nSpecify [products from the catalog](https://developer.bigcommerce.com/api-reference/store-management/orders/order-shipping-addresses/updateashippingaddress#request-body) by including a [`products` array](https://developer.bigcommerce.com/api-reference/store-management/orders/order-shipping-addresses/updateashippingaddress#request-body) in the [create order](https://developer.bigcommerce.com/api-reference/store-management/orders/orders/createanorder) request.\n\n```http\nPOST https://api.bigcommerce.com/stores/{{STORE_HASH}}/v2/orders\nX-Auth-Token: {{ACCESS_TOKEN}}\nContent-Type: application/json\nAccept: application/json\n\n\n{\n  \"billing_address\": {...},\n  \"products\": [\n    {\n      \"name\": \"BigCommerce Coffee Mug\", # custom product\n      \"quantity\": 1,\n      \"price_inc_tax\": 50,\n      \"price_ex_tax\": 45\n    },\n    {\n      \"product_id\": 184,               # product from catalog\n      \"quantity\": 1,\n      \"product_options\": [\n        {\n          \"id\": 200,\n          \"value\": \"180\"\n        },\n        {\n          \"id\": 230,\n          \"value\": \"192\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n[![Open in Request Runner](https://storage.googleapis.com/bigcommerce-production-dev-center/images/Open-Request-Runner.svg)](https://developer.bigcommerce.com/api-reference/store-management/orders/orders/createanorder#requestrunner)\n\nTo get the `product_options.id` and `product_options.value` of a product for the order `products` array, send a `GET` request to `/stores/{{STORE_HASH}}/v3/catalog/products/{product_id}/variants`.\n\n```http\nGET https://api.bigcommerce.com/stores/{{STORE_HASH}}/v3/catalog/products/{product_id}/variants\nX-Auth-Token: {{ACCESS_TOKEN}}\nContent-Type: application/json\nAccept: application/json\n```\n\n[![Open in Request Runner](https://storage.googleapis.com/bigcommerce-production-dev-center/images/Open-Request-Runner.svg)](https://developer.bigcommerce.com/api-reference/catalog/catalog-api/product-variants/getvariantsbyproductid#requestrunner)\n\n**[Response:](https://developer.bigcommerce.com/api-reference/catalog/catalog-api/product-variants/getvariantbyid#responses)**\n\n```json\n{\n  \"data\": [\n    {\n      \"id\": 421,\n      \"product_id\": 184,\n      ...\n      \"option_values\": [\n        {\n          \"id\": 180,         // product_options.value\n          \"label\": \"Red\",\n          \"option_id\": 200,  // product_options.id\n          \"option_display_name\": \"Color\"\n        },\n        {\n          \"id\": 192,\n          \"label\": \"Small\",\n          \"option_id\": 230,\n          \"option_display_name\": \"T-Shirt Size\"\n        }\n      ]\n    }\n    ...\n  ]\n}\n```\n\n<div class=\"HubBlock--callout\">\n<div class=\"CalloutBlock--info\">\n<div class=\"HubBlock-content\">\n\n> ### Note\n> * Custom products do not get added to the catalog.\n> * If the product's price is not specfied in the [create order](https://developer.bigcommerce.com/api-reference/store-management/orders/orders/createanorder) request, BigCommmerce's pricing service calculates the price by applying applicable currency conversions and [pricing operations](https://developer.bigcommerce.com/api-docs/store-management/pricing-order-operation) (such as [price lists](https://support.bigcommerce.com/s/article/Price-Lists) and [customer group discounts](https://support.bigcommerce.com/s/article/Customer-Groups#pricing)) to the product's catalog price; use `price_inc_tax` and `price_ex_tax` to override the calculated price.\n> * Marketing promotions currently do not apply to orders created via the Orders API.\n> * If you override `price_ex_tax` or `price_inc_tax`, override both; otherwise, order totals will not calculate correctly.\n> * Overriding `price_inc_tax` or `price_ex_tax` does not change variant pricing.\n\n</div>\n</div>\n</div>\n\n## Creating order shipments\n\nOnce an order has products, a billing address, and a shipping address, you can create an order shipment.\n\nTo [create an order shipment](https://developer.bigcommerce.com/api-reference/store-management/orders/order-shipments/createordershipments), send a `POST` request to `/stores/{{STORE_HASH}}/v2/orders/{{order_id}}/shipments`.\n\n```http\nPOST https://api.bigcommerce.com/stores/{{STORE_HASH}}}/v2/orders/{{order_id}}/shipments\nX-Auth-Token: {{ACCESS_TOKEN}}\nContent-Type: application/json\nAccept: application/json\n\n  \"tracking_number\": \"EJ958083578UK\",\n  \"comments\": \"Janes Order\",\n  \"order_address_id\": \"128\",\n  \"shipping_provider\": \"\",\n  \"items\": [\n    {\n      \"order_product_id\": 194,\n      \"quantity\": 1\n    },\n    {\n      \"order_product_id\": 195,\n      \"quantity\": 1\n    }\n  ]\n}\n```\n\n[![Open in Request Runner](https://storage.googleapis.com/bigcommerce-production-dev-center/images/Open-Request-Runner.svg)](https://developer.bigcommerce.com/api-reference/store-management/orders/order-shipments/createordershipments#requestrunner)\n\n|Property|Description|\n|-|-|\n|`tracking_number`|Shipping provider tracking number; used to generate tracking link|\n|`comments`|Optional comments|\n|`order_address_id`|Obtainable via [Get Order Shipping Address](https://developer.bigcommerce.com/api-reference/store-management/orders/order-shipping-addresses/getallshippingaddresses)|\n|`shipping_provider`| Optional; used to create tracking link; see [Create Order Shipment](https://developer.bigcommerce.com/api-reference/store-management/orders/order-shipments/createordershipments) for accepted values|\n|`items.order_product_id`|Obtainable via [Get Order Products](https://developer.bigcommerce.com/api-reference/store-management/orders/order-products/getallorderproducts)|\n\n<div class=\"HubBlock--callout\">\n<div class=\"CalloutBlock--info\">\n<div class=\"HubBlock-content\">\n\n> ### Note\n> * Create multiple shipments by specifying a subset of products and quantities in each `POST` request.\n> * Creating order shipments triggers email notifications; adjust [Order Notification](https://support.bigcommerce.com/s/article/Customer-Order-Notifications#enable) settings in the [control panel](https://login.bigcommerce.com/deep-links/manage) to change this behavior.\n> * Deleting a shipment does **not** move the order out of `shipped` status.\n\n</div>\n</div>\n</div>\n\n## Shipping to multiple locations\n\nYou can create multiple shipments for orders, and each shipment can have a different `order_address_id`.\n\n```http\nPOST https://api.bigcommerce.com/stores/{{STORE_HASH}}}/v2/orders/{{order_id}}/shipments\nX-Auth-Token: {{ACCESS_TOKEN}}\nContent-Type: application/json\nAccept: application/json\n\n{\n  \"order_address_id\": \"123\",\n  \"shipping_provider\": \"usps\",\n  \"items\": [\n    {\n      \"order_product_id\": 2,\n      \"quantity\": 1\n    }\n  ]\n}\n```\n\n```http\nPOST https://api.bigcommerce.com/stores/{{STORE_HASH}}}/v2/orders/{{order_id}}/shipments\nX-Auth-Token: {{ACCESS_TOKEN}}\nContent-Type: application/json\nAccept: application/json\n\n{\n  \"order_address_id\": \"456\",\n  \"shipping_provider\": \"\",\n  \"items\": [\n    {\n      \"order_product_id\": 5,\n      \"quantity\": 1\n    }\n  ]\n}\n```\n\n[![Open in Request Runner](https://storage.googleapis.com/bigcommerce-production-dev-center/images/Open-Request-Runner.svg)](https://developer.bigcommerce.com/api-reference/store-management/orders/order-shipments/createordershipments#requestrunner)\n\n|Property|Description|\n|-|-|\n|`order_address_id`|Obtainable via [Get Order Shipping Address](https://developer.bigcommerce.com/api-reference/store-management/orders/order-shipping-addresses/getallshippingaddresses)|\n|`shipping_provider`| Optional; used to create tracking link; see [Create Order Shipment](https://developer.bigcommerce.com/api-reference/store-management/orders/order-shipments/createordershipments) for accepted values|\n|`items.order_product_id`|Obtainable via [Get Order Products](https://developer.bigcommerce.com/api-reference/store-management/orders/order-products/getallorderproducts)|\n\n## Getting shipping quotes\n\nTo [get shipping quotes](https://developer.bigcommerce.com/api-reference/store-management/orders/order-shipping-addresses-quotes/getshippingquotes), send a `GET` request to `/v2/orders/{order_id}/shipping_addresses/{shipping_address_id}/shipping_quotes`.\n\n```http\nGET https://api.bigcommerce.com/stores/{{STORE_HASH}}/v2/orders/{order_id}/shipping_addresses/{shipping_address_id}/shipping_quotes\nX-Auth-Token: {{ACCESS_TOKEN}}\nAccept: application/json\n```\n\n[![Open in Request Runner](https://storage.googleapis.com/bigcommerce-production-dev-center/images/Open-Request-Runner.svg)](https://developer.bigcommerce.com/api-reference/store-management/orders/order-shipping-addresses-quotes/getshippingquotes#requestrunner)\n\n**[Response:](https://developer.bigcommerce.com/api-reference/store-management/orders/order-shipping-addresses-quotes/getshippingquotes#responses)**\n\n```json\n{\n  \"id\": \"16\",\n  \"uuid\": \"18aaa5eb-3c7a-4bf8-bfaa-d14d155606f1\",\n  \"timestamp\": \"Mon, 30 Jul 2018 15:32:35 +0000\",\n  \"shipping_provider_id\": \"bcproductbased\",\n  \"shipping_provider_quote\": [],\n  \"provider_code\": \"productfixedshipping\",\n  \"carrier_code\": \"\",\n  \"rate_code\": \"\",\n  \"rate_id\": \"\"\n}\n```\n\nGenerating a quote through a shipping carrier is not supported. You can specify a shipping carrier when creating an order shipment. You can generate the quote elsewhere, then update the `shipping_cost_ex_tax` and `shipping_cost_inc_tax` for the order total to be correct.\n\n## Getting order taxes\n\nTo [get order taxes](https://developer.bigcommerce.com/api-reference/store-management/orders/order-taxes/getordertaxes), send a `GET` request to `/stores/{{STORE_HASH}}/v2/orders/{order_id}/taxes`.\n\n```http\nGET https://api.bigcommerce.com/stores/{{STORE_HASH}}/v2/orders/{order_id}/taxes\nX-Auth-Token: {{ACCESS_TOKEN}}\nAccept: application/json\n```\n\n[![Open in Request Runner](https://storage.googleapis.com/bigcommerce-production-dev-center/images/Open-Request-Runner.svg)](https://developer.bigcommerce.com/api-reference/store-management/orders/order-taxes/getordertaxes#requestrunner)\n\n**[Response:](https://developer.bigcommerce.com/api-reference/store-management/orders/order-taxes/getordertaxes#responses)**\n\n```json\n[\n  {\n    \"id\": 13,\n    \"order_id\": 138,\n    \"order_address_id\": 39,\n    \"tax_rate_id\": 1,\n    \"tax_class_id\": 0,\n    \"name\": \"Tax\",\n    \"class\": \"Default Tax Class\",\n    \"rate\": \"8.0000\",\n    \"priority\": 0,\n    \"priority_amount\": \"17.6400\",\n    \"line_amount\": \"17.6400\"\n  }\n]\n```\n\nThe response's [order tax object](https://developer.bigcommerce.com/api-reference/store-management/orders/order-taxes/getordertaxes) `name` property gets set to `API Tax Override` when generated by third-party tax services like [Avalara Premium](https://www.bigcommerce.com/apps/avalara-avatax/?search=avalara).\n\n```json\n[\n  {\n    \"id\": 13,\n    \"order_id\": 138,\n    \"order_address_id\": 39,\n    \"tax_rate_id\": 1,\n    \"tax_class_id\": 0,\n    \"name\": \"API Tax Override\",\n    ...\n  }\n]\n```\n\nBigCommerce submits tax documents to Avalara when an order moves from an **unpaid** status to a **paid** status and voids tax documents when an order moves from a **paid status** to an unpaid status.\n\n| Existing Status | Status Passed | Resultant Status | Avalara Tax Document Submission |\n| - | - | - | - |\n| Any | None | `Pending` | None |\n| Paid or `Refunded` | Paid | Paid | None |\n| Unpaid or `Refunded` | Unpaid | Unpaid | None |\n| Paid or `Refunded` | Unpaid | Unpaid | Tax document voided |\n| Unpaid or `Refunded` | Paid | Paid | Tax document submitted |\n\n<div class=\"HubBlock--callout\">\n<div class=\"CalloutBlock--info\">\n<div class=\"HubBlock-content\">\n\n> ### Note\n> * Abbreviated state names (ex: `CA` instead of `California`) in an order address will cause tax document submission to fail.\n> * You can calculate taxes using rules specified in the store unless [automatic taxes](https://support.bigcommerce.com/s/article/Automatic-Tax-Setup) are enabled.\n> * You can optionally override tax values by specifying `price_inc_tax` and `price_ex_tax` in an [update order request](https://developer.bigcommerce.com/api-reference/store-management/orders/orders/updateanorder).\n> * If a store has [automatic tax](https://support.bigcommerce.com/s/article/Automatic-Tax-Setup) enabled, BigCommerce does not compute sales tax on orders created via the API.\n\n</div>\n</div>\n</div>\n\n## Getting order transactions\n\nTo [get order transactions](https://developer.bigcommerce.com/api-reference/store-management/order-transactions/transactions/gettransactions), send a `GET` request to `/stores/{{STORE_HASH}}/v3/orders/{order_id}/transactions`.\n\n```http\nGET https://api.bigcommerce.com/stores/{{STORE_HASH}}/v3/orders/{order_id}/transactions\nX-Auth-Token: {{ACCESS_TOKEN}}\nAccept: application/json\n```\n\n[![Open in Request Runner](https://storage.googleapis.com/bigcommerce-production-dev-center/images/Open-Request-Runner.svg)](https://developer.bigcommerce.com/api-reference/store-management/order-transactions/transactions/gettransactions#requestrunner)\n\n**[Response:](https://developer.bigcommerce.com/api-reference/store-management/order-transactions/transactions/gettransactions#responses)**\n\n```json\n{\n  \"data\": [\n    {\n      \"id\": 85926313,\n      \"order_id\": \"121\",\n      \"event\": \"purchase\",\n      \"method\": \"nonce\",\n      \"amount\": 1,\n      \"currency\": \"USD\",\n      \"gateway\": \"squarev2\",\n      \"gateway_transaction_id\": \"pN5Kd7R9ilEI2ygBawCy7tMF|qwnAFAxRZ7tYRtIpZULg1yMF\",\n      \"status\": \"ok\",\n      \"test\": false,\n      \"fraud_review\": false,\n      \"reference_transaction_id\": {},\n      \"date_created\": \"2018-05-08T15:06:12+00:00\",\n      \"avs_result\": {...},\n      \"cvv_result\": {...},\n      \"credit_card\": {},\n      \"gift_certificate\": {},\n      \"store_credit\": {},\n      \"offline\": {},\n      \"custom\": {},\n      \"payment_instrument_token\": {},\n      \"payment_method_id\": \"squarev2.card\"\n    }\n  ],\n  \"meta\": {...}\n}\n```\n\n<div class=\"HubBlock--callout\">\n<div class=\"CalloutBlock--info\">\n<div class=\"HubBlock-content\">\n\n> ### Note\n> * Not all payment gateways return the full card or fraud detail. Depending on the payment method, different information will be available.\n> * You cannot create transactions for the following payment methods:\n>   * Test Payment Gateway\n>   * PayPal Express\n>   * Amazon Pay\n\n</div>\n</div>\n</div>\n\n## Handling refunds\n\n[Orders V3](https://developer.bigcommerce.com/api-reference/store-management/order-transactions) exposes endpoints for managing [order refunds](https://developer.bigcommerce.com/api-reference/store-management/order-transactions/order-refunds). For an overview on using these endpoints, see [Order Refunds in API Docs](https://developer.bigcommerce.com/api-docs/orders/payment-actions).\n\n## Calculating totals\n\nOrder `subtotal` and `total` calculate automatically; edits to the following properties trigger a recalculation.\n\n|Property|Type|Description|\n|-|-|-|\n|`products`|`array[obj]`|Used to calculate shipping, taxes, and subtotal|\n|`shipping_cost_ex_tax`|`float`|Shipping cost, excluding tax|\n|`shipping_cost_inc_tax`|`float`|Shipping cost, including tax|\n|`handling_cost_ex_tax`|`float`|Value of handling cost, excluding tax|\n|`handling_cost_inc_tax`|`float`|Value of handling cost, including tax|\n|`wrapping_cost_ex_tax`|`float`|Value of wrapping cost, excluding tax |\n|`wrapping_cost_inc_tax`|`float`|Value of wrapping cost, including tax |\n|`billing_address`|`obj`|Used to calculate shipping and taxes|\n|`shipping_addresses`|`array[obj]`|Used to calculate shipping and taxes|\n\nYou can override calculated values such as product prices, subtotals, and totals by sending a fixed value in the request. If you do not supply values for these properties, you will automatically calculate them based on the preset store values and tax rules.\n\n<div class=\"HubBlock--callout\">\n<div class=\"CalloutBlock--info\">\n<div class=\"HubBlock-content\">\n\n> ### Note\n> * If you override `subtotal` or `total`, override both; the system will not re-calculate the other.\n> * To add a manual discount, overwrite the product price or `discount_amount`.\n\n</div>\n</div>\n</div>\n\n## FAQ\n\n**Is adding coupons available?**\n\nCoupon redemption is unavailable. You can not write to the `coupon_discount` field. You can add a discount to the order by using the `discount_amount`.\n\n**How do I create an order for a guest?**\n\nTo specify a guest checkout, set `customer_id` to 0.\n\n**How do I set the order source?**\n\nYou cannot specify the `order_source`; its value is external. You can optionally specify a value for `external_source` to define which external source the order is coming from - e.g., POS system X, accounting system Y, etc.\n\n**Can I create an order with only custom products?**\n\nYes, the store's catalog does not include products.\n\n**What is the difference between country_ISO2 and country?**\n\nThere is no requirement to specify country when you specify `country_ISO2` in the shipping and billing addresses and vice versa.\n\n**How can I take payment for an order?**\n\nYou can either process payment through a third party or using the control panel.\n\n**Can I generate a shipping quote from a carrier using the API?**\n\nNot at this time. If you create an order either in the control panel or via API, it will return a 204 when trying to get a shipping quote.\n\n## Related resources\n\n### Articles\n- [Payments API Overview](https://developer.bigcommerce.com/api-docs/payments/payments-api-overview)\n- [Order Refunds](https://developer.bigcommerce.com/api-docs/orders/payment-actions)\n- [Order Statuses](https://support.bigcommerce.com/s/article/Order-Statuses)\n- [Order Notifications](https://support.bigcommerce.com/s/article/Customer-Order-Notifications)\n\n### Endpoints\n- [Storefront Orders](https://developer.bigcommerce.com/api-reference/cart-checkout/storefront-orders)\n- [Orders v2](https://developer.bigcommerce.com/api-reference/store-management/orders)\n- [Orders v3](https://developer.bigcommerce.com/api-reference/store-management/order-transactions)\n\n### Webhooks\n- [Orders](/api-docs/store-management/webhooks/events#orders)\n"}],"children":[]}}}}
