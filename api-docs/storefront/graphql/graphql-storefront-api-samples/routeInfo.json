{"path":"api-docs/storefront/graphql/graphql-storefront-api-samples","templateID":0,"sharedPropsHashes":{"nav":"Z2k7O5R","sidebarTree":"Z1Jm3fi","namespace":"Zd6xn0"},"localProps":{"version":"1.3","crumbs":[{"content":"API Docs","to":"/api-docs"},{"content":"Storefront APIs","to":"/api-docs/storefront"},{"content":"GraphQL","to":"/api-docs/storefront/graphql"},{"content":"Code Samples","to":"/api-docs/storefront/graphql/graphql-storefront-api-samples"}],"page":{"meta":{"title":"Code Samples - GraphQL - Storefront APIs - API Docs","url":"/api-docs/storefront/graphql/graphql-storefront-api-samples","description":"GraphQL Storefront API Example Queries\n\n\n\nOn this Page\n\nGet a customer's details\n\nGet first three levels of category tree\n\nGet category and products wit..."},"title":"Code Samples","parsedPath":["pages","/api-docs","data","children",1,"data","children",1,"data","children",1],"rootPagePath":"/api-docs","path":"/api-docs/storefront/graphql/graphql-storefront-api-samples","isSubpage":true,"route":{"path":"/graphql-storefront-api-samples"},"data":{"blocks":[{"type":"text","data":"# GraphQL Storefront API Example Queries\r\n\r\n<div class=\"otp\" id=\"no-index\">\r\n\r\n### On this Page\r\n\r\n- [Get a customer's details](#get-a-customers-details)\r\n- [Get first three levels of category tree](#get-first-three-levels-of-category-tree)\r\n- [Get category and products within by URL](#get-category-and-products-within-by-url)\r\n- [Look up an object by URL](#look-up-an-object-by-url)\r\n- [Get product images at different resolutions](#get-product-images-at-different-resolutions)\r\n- [Get a product](#get-a-product)\r\n- [Get variant details as a product object](#get-variant-details-as-a-product-object)\r\n- [Get product option details by product ID](#get-product-option-details-by-product-id)\r\n- [Get refined product object for given options](#get-refined-product-object-for-given-options)\r\n- [Get product swatch option values](#get-product-swatch-option-values)\r\n\r\n</div>\r\n\r\nBelow are example GraphQL queries for use with the BigCommerce GraphQL Storefront API. The purpose of these examples is to assist developers in getting familiar with the API. For a general overview of it's usage and capabilities, see [GraphQL Storefront API Overview](https://developer.bigcommerce.com/api-docs/storefront/graphql/graphql-storefront-api-overview).\r\n\r\n<div class=\"HubBlock--callout\">\r\n<div class=\"CalloutBlock--warning\">\r\n<div class=\"HubBlock-content\">\r\n\r\n> ### Note\r\n> * The GraphQL Storefront API is in early access and is feature-incomplete; it will remain in early access until we reach the minimum amount of functionality necessary to power an end-to-end shopping experience.\r\n\r\n</div>\r\n</div>\r\n</div>\r\n\r\n## Get a customer's details\r\n\r\n```javascript\r\nquery CustomerAttributes {\r\n  customer {\r\n    firstName\r\n    lastName\r\n    email\r\n    entityId\r\n    customerGroupId\r\n    attributeCount\r\n    attributes {\r\n      shirtSize: attribute(entityId:123) {\r\n        entityId\r\n        value\r\n      }\r\n      favoriteColor: attribute(entityId:456) {\r\n        entityId\r\n        value\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n<a href=\"https://developer.bigcommerce.com/graphql?playground_tab=customerDetails\" target=\"_blank\">**Try it in GraphQL Playground**</a>\r\n\r\n## Get first three levels of category tree\r\n\r\n```javascript\r\nquery CategoryTree3LevelsDeep {\r\n  site {\r\n    categoryTree {\r\n      ...CategoryFields\r\n      children {\r\n        ...CategoryFields\r\n        children {\r\n          ...CategoryFields\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfragment CategoryFields on CategoryTreeItem {\r\n  name\r\n  path\r\n  entityId\r\n}\r\n```\r\n\r\n<a href=\"https://developer.bigcommerce.com/graphql?playground_tab=categoryTree\" target=\"_blank\">**Try it in GraphQL Playground**</a>\r\n\r\n## Get category and products within by URL\r\n\r\n```javascript\r\nquery CategoryByUrl {\r\n  site {\r\n    route(path: \"/shop-all/\") {\r\n      node {\r\n        id\r\n        ... on Category {\r\n          name\r\n          entityId\r\n          description\r\n          products {\r\n            edges {\r\n              node {\r\n                name\r\n                defaultImage {\r\n                  url(width: 1200)\r\n                }\r\n                brand {\r\n                  name\r\n                  defaultImage {\r\n                    url(width: 200)\r\n                  }\r\n                }\r\n                prices {\r\n                  price {\r\n                    ...PriceFields\r\n                  }\r\n                  priceRange {\r\n                    min {\r\n                      ...PriceFields\r\n                    }\r\n                    max {\r\n                      ...PriceFields\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfragment PriceFields on Money {\r\n  value\r\n  currencyCode\r\n}\r\n```\r\n\r\n<a href=\"https://developer.bigcommerce.com/graphql?playground_tab=categoriesByUrl\" target=\"_blank\">**Try it in GraphQL Playground**</a>\r\n\r\n## Look up an object by URL\r\n\r\n```js\r\nquery LookUpUrl {\r\n  site {\r\n    route(path: \"/shop-all/\") {\r\n      node {\r\n        __typename\r\n        id\r\n        ... on Category {\r\n          name\r\n          description\r\n        }\r\n        ... on Brand {\r\n          name\r\n          defaultImage {\r\n            url(width: 200)\r\n          }\r\n        }\r\n        ... on Product {\r\n          name\r\n          description\r\n          images {\r\n            edges {\r\n              node {\r\n                url(width: 500, height: 500)\r\n              }\r\n            }\r\n          }\r\n          brand {\r\n            name\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n<a href=\"https://developer.bigcommerce.com/graphql?playground_tab=objectsByUrl\" target=\"_blank\">**Try it in GraphQL Playground**</a>\r\n\r\n## Get product images at different resolutions\r\n\r\n```js\r\nquery SrcsetImages {\r\n  site {\r\n    product(entityId: 123) {\r\n      images {\r\n        edges {\r\n          node {\r\n            url320wide: url(width: 320)\r\n            url640wide: url(width: 640)\r\n            url960wide: url(width: 960)\r\n            url1280wide: url(width: 1280)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n<a href=\"https://developer.bigcommerce.com/graphql?playground_tab=productImages\" target=\"_blank\">**Try it in GraphQL Playground**</a>\r\n\r\n## Get a product\r\n\r\n```js\r\nquery SingleProduct {\r\n  site {\r\n    products (entityIds: [4917]) {\r\n      edges {\r\n        node {\r\n          id\r\n          entityId\r\n          name\r\n          prices {\r\n            price {\r\n              value\r\n              currencyCode\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n<a href=\"https://developer.bigcommerce.com/graphql?playground_tab=singleProduct\" target=\"_blank\">**Try it in GraphQL Playground**</a>\r\n\r\n## Get variant details as a product object\r\n\r\n```js\r\nquery VariantById {\r\n  site {\r\n    product(variantEntityId: 27098) {\r\n      name\r\n      sku\r\n      defaultImage {\r\n        url(width: 500, height: 500)\r\n      }\r\n      prices {\r\n        price {\r\n          ...PriceFields\r\n        }\r\n        salePrice {\r\n          ...PriceFields\r\n        }\r\n        retailPrice {\r\n          ...PriceFields\r\n        }\r\n      }\r\n      width {\r\n        ...DimensionFields\r\n      }\r\n      height {\r\n        ...DimensionFields\r\n      }\r\n      depth {\r\n        ...DimensionFields\r\n      }\r\n    }\r\n  }\r\n}\r\nfragment PriceFields on Money {\r\n  value\r\n  currencyCode\r\n}\r\nfragment DimensionFields on Measurement {\r\n  value\r\n  unit\r\n}\r\n```\r\n\r\n<div class=\"HubBlock--callout\">\r\n<div class=\"CalloutBlock--info\">\r\n<div class=\"HubBlock-content\">\r\n\r\n<!-- theme: info -->\r\n\r\nThis query returns variant information appropriately overlaid on the Product object. For example, if the variant has a different image, dimensions, SKU, or price, that will be automatically returned -- this allows for directly merchandising particular variants.\r\n\r\n</div>\r\n</div>\r\n</div>\r\n\r\n<a href=\"https://developer.bigcommerce.com/graphql?playground_tab=variantDetails\" target=\"_blank\">**Try it in GraphQL Playground**</a>\r\n\r\n## Get product option details by product ID\r\n\r\n```js\r\nquery SeveralProductsByID {\r\n  site {\r\n    products(entityIds: [1, 2, 3]) {\r\n      edges {\r\n        node {\r\n          name\r\n          productOptions {\r\n            edges {\r\n              node {\r\n                entityId\r\n                displayName\r\n                isRequired\r\n                ... on MultipleChoiceOption {\r\n                  values {\r\n                    edges {\r\n                      node {\r\n                        entityId\r\n                        label\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n<a href=\"https://developer.bigcommerce.com/graphql?playground_tab=productOptions\" target=\"_blank\">**Try it in GraphQL Playground**</a>\r\n\r\n## Get refined product object for given options\r\n\r\n```js\r\nquery ProductsWithOptionSelections {\r\n  site {\r\n    product123: product(\r\n      entityId: 123\r\n      optionValueIds: [\r\n        { optionEntityId: 4, valueEntityId: 543 }\r\n        { optionEntityId: 5, valueEntityId: 443 }\r\n      ]\r\n    ) {\r\n      ...ProductFields\r\n    }\r\n    product234: product(\r\n      entityId: 234\r\n      optionValueIds: [\r\n        { optionEntityId: 8, valueEntityId: 768 }\r\n        { optionEntityId: 13, valueEntityId: 883 }\r\n      ]\r\n    ) {\r\n      ...ProductFields\r\n    }\r\n  }\r\n}\r\n\r\nfragment ProductFields on Product {\r\n  name\r\n  defaultImage {\r\n    url(width: 1000)\r\n  }\r\n  sku\r\n}\r\n```\r\n\r\n<a href=\"https://developer.bigcommerce.com/graphql?playground_tab=refinedProduct\" target=\"_blank\">**Try it in GraphQL Playground**</a>\r\n\r\n## Get product swatch option values\r\n\r\n```js\r\nquery {\r\n  site {\r\n    products (first: 3) {\r\n      pageInfo {\r\n        startCursor\r\n        endCursor\r\n      }\r\n      edges {\r\n        cursor\r\n        node {\r\n          entityId\r\n          name\r\n          productOptions {\r\n            edges {\r\n              node {\r\n                entityId\r\n                displayName\r\n                ... on MultipleChoiceOption {\r\n                  values {\r\n                    edges {\r\n                      node {\r\n                        ... on SwatchOptionValue {\r\n                          label\r\n                          hexColors\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n"}],"children":[]}}}}
