{"path":"api-docs/channels/tutorials/storefront","templateID":0,"sharedPropsHashes":{"nav":"Z2k7O5R","sidebarTree":"Z1Jm3fi","namespace":"Zd6xn0"},"localProps":{"version":"1.3","crumbs":[{"content":"API Docs","to":"/api-docs"},{"content":"Building Channels","to":"/api-docs/channels"},{"content":"Tutorials","to":"/api-docs/channels/tutorials"},{"content":"Build a Storefront Channel","to":"/api-docs/channels/tutorials/storefront"}],"page":{"meta":{"title":"Build a Storefront Channel - Tutorials - Building Channels - API Docs","url":"/api-docs/channels/tutorials/storefront","description":"Building Storefront Channels\n\n\n\nOn this page\n\nPrerequisites\n\nCreating a channel\n\nSpecifying the platform\n\nConfiguring UI sections\n\nProtected UI sections..."},"title":"Build a Storefront Channel","parsedPath":["pages","/api-docs","data","children",5,"data","children",2,"data","children",0],"rootPagePath":"/api-docs","path":"/api-docs/channels/tutorials/storefront","isSubpage":true,"route":{"path":"/storefront"},"data":{"blocks":[{"type":"text","data":"# Building Storefront Channels\r\n\r\n<!-- Dev Center URL: https://developer.bigcommerce.com/api-docs/channels/tutorials/storefront#building-a-channel-app -->\r\n\r\n<div class=\"otp\" id=\"no-index\">\r\n\r\n## On this page\r\n\r\n - [Prerequisites](#prerequisites)\r\n - [Creating a channel](#creating-a-channel)\r\n - [Specifying the platform](#specifying-the-platform)\r\n - [Configuring UI sections](#configuring-ui-sections)\r\n - [Protected UI sections](#protected-ui-sections)\r\n - [Storefront settings](#storefront-settings)\r\n - [Currencies settings](#currencies-settings)\r\n - [Notification settings](#notification-settings)\r\n - [Related resources](#related-resources)\r\n\r\n</div>\r\n\r\nThis article documents how to use [Channels Toolkit](https://developer.bigcommerce.com/api-docs/channels/guide/channels-toolkit-reference) to install a storefront channel into [Channel Manager](https://support.bigcommerce.com/s/article/Selling-Everywhere-with-Channel-Manager) during a [single-click app's](https://developer.bigcommerce.com/api-docs/apps/guide/types) installation. We'll assume you're an experienced app and headless storefront developer familiar with channels on BigCommerce.\r\n\r\n### Prerequisites\r\n\r\n\r\n- [Familiarity with channels on BigCommerce](https://developer.bigcommerce.com/api-docs/channels/guide/overview)\r\n- [Experience building apps](https://developer.bigcommerce.com/api-docs/apps/guide/intro)\r\n- [Experience building headless storefronts](https://developer.bigcommerce.com/api-docs/storefronts/developers-guide-headless)\r\n\r\n## Creating a channel\r\n\r\nAfter receiving the [POST response](https://developer.bigcommerce.com/api-docs/apps/guide/auth#receiving-the-post-response) at the end of the [single-click app OAuth flow](https://developer.bigcommerce.com/api-docs/apps/guide/auth#receiving-the-post-response), create a channel on the merchant's store. This allows merchants to assign product listings to the storefront and configure storefront specific settings. To create a storefront channel, set `type` to `storefront` in the [create a channel](https://developer.bigcommerce.com/api-reference/cart-checkout/channels-listings-api/channels/createchannel) request.\r\n\r\n```http\r\nPOST https://api.bigcommerce.com/stores/{{STORE_HASH}}/v3/channels\r\nX-Auth-Token: {{ACCESS_TOKEN}}\r\nContent-Type: application/json\r\nAccept: application/json\r\n\r\n{\r\n  \"name\": \"Custom PWA Storefront\",\r\n  \"type\": \"storefront\",\r\n  \"platform\": \"custom\",\r\n  \"external_id\": \"\",\r\n  \"status\": \"connected\",\r\n  \"is_listable_from_ui\": true,\r\n  \"is_visible\": true,\r\n  \"config_meta\": {\r\n    \"app\": {\r\n      \"id\": 112233,\r\n      \"sections\": [\r\n        {\r\n          \"title\": \"Overview\",\r\n          \"query_path\": \"overview\"\r\n        },\r\n        {\r\n          \"title\": \"Storefront Settings\",\r\n          \"query_path\": \"storefront_settings\"\r\n        },\r\n        {\r\n          \"title\": \"Domains\",\r\n          \"query_path\": \"domains\"\r\n        },\r\n        {\r\n          \"title\": \"Notifications\",\r\n          \"query_path\": \"notifications\"\r\n        },\r\n        {\r\n          \"title\": \"Currencies\",\r\n          \"query_path\": \"currencies\"\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n[![Open in Request Runner](https://storage.googleapis.com/bigcommerce-production-dev-center/images/Open-Request-Runner.svg)](https://developer.bigcommerce.com/api-reference/cart-checkout/channels-listings-api/channels/createchannel#requestrunner)\r\n\r\n[View reference documentation for this request](https://developer.bigcommerce.com/api-reference/store-management/channels/channels/createchannel).\r\n\r\n## Specifying the platform\r\n\r\nSpecify the headless storefront's platform by assigning an [accepted value for `platform`](#accepted-values) in the [create channel request](https://developer.bigcommerce.com/api-reference/cart-checkout/channels-listings-api/channels/createchannel).\r\n\r\n```http\r\nPOST https://api.bigcommerce.com/stores/{{STORE_HASH}}/v3/channels\r\nX-Auth-Token: {{ACCESS_TOKEN}}\r\nContent-Type: application/json\r\nAccept: application/json\r\n\r\n{\r\n  \"name\": \"Deity PWA Storefront\",\r\n  \"type\": \"storefront\",\r\n  \"platform\": \"deity\",\r\n  ...\r\n  }\r\n```\r\n\r\n[![Open in Request Runner](https://storage.googleapis.com/bigcommerce-production-dev-center/images/Open-Request-Runner.svg)](https://developer.bigcommerce.com/api-reference/cart-checkout/channels-listings-api/channels/createchannel#requestrunner)\r\n\r\n### Accepted values\r\n\r\n| Platform     | Accepted Type                                   |\r\n| ------------ | ----------------------------------------------- |\r\n| `wordpress`  | `storefront`                                    |\r\n| `drupal`     | `storefront`                                    |\r\n| `acquia`     | `storefront`                                    |\r\n| `bloomreach` | `storefront`                                    |\r\n| `deity`      | `storefront`                                    |\r\n| `custom`     | `storefront`, `pos`, `marketing`, `marketplace` |\r\n\r\n## Configuring UI sections\r\n\r\nDefine and configure the channel's UI tabs displayed in the control panel by passing in a `config_meta` object.\r\n\r\n```http\r\nPOST https://api.bigcommerce.com/stores/{{STORE_HASH}}/v3/channels\r\nX-Auth-Token: {{ACCESS_TOKEN}}\r\nContent-Type: application/json\r\nAccept: application/json\r\n\r\n{\r\n  \"name\": \"Deity Falcon PWA Storefront\",\r\n  ...\r\n  \"config_meta\": {\r\n    \"app\": {\r\n      \"id\": 112233,\r\n      \"sections\": [\r\n        {\r\n          \"title\": \"Overview\",\r\n          \"query_path\": \"overview\"\r\n        }\r\n          ...\r\n      ]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n<div class=\"HubBlock--callout\">\r\n<div class=\"CalloutBlock--info\">\r\n<div class=\"HubBlock-content\">\r\n \r\n<!-- theme:info -->\r\n\r\n> **Note**\r\n>\r\n> You can [find an app's ID](https://developer.bigcommerce.com/api-docs/apps/tutorials/id) in the URL when editing the app in the [Developer Portal](https://developer.bigcommerce.com/api-docs/apps/guide/developer-portal).\r\n\r\n</div>\r\n</div>\r\n</div>\r\n\r\n## Protected UI sections\r\n\r\nThe following protected sections are provided by BigCommerce.\r\n\r\n| Title               | Query                 | Description                                    |\r\n| ------------------- | --------------------- | ---------------------------------------------- |\r\n| [`Storefront Settings`](#storefront-settings) | `storefront_settings` | Renders channel specific storefront settings   |\r\n| `Domains`             | `domains`             | Renders channel specific domain settings       |\r\n| `Notifications`       | `notifications`       | Renders channel specific notification settings |\r\n| [`Currencies`](#currencies-settings)          | `currencies`          | Renders channel specific currency settings     |\r\n\r\nInclude protected sections in the [create channel request](https://developer.bigcommerce.com/api-reference/cart-checkout/channels-listings-api/channels/createchannel) to display BigCommerce provided channel specific settings.\r\n\r\n```http\r\nPOST https://api.bigcommerce.com/stores/{{STORE_HASH}}/v3/channels\r\nX-Auth-Token: {{ACCESS_TOKEN}}\r\nContent-Type: application/json\r\nAccept: application/json\r\n\r\n{\r\n  \"name\": \"Dog US\",\r\n  ...\r\n  \"config_meta\": {\r\n    \"app\": {\r\n      \"id\": 112233,\r\n      \"sections\": [\r\n        {\r\n          \"title\": \"Storefront Settings\",\r\n          \"query_path\": \"storefront_settings\"\r\n        },\r\n        {\r\n          \"title\": \"Domains\",\r\n          \"query_path\": \"domains\"\r\n        },\r\n        {\r\n          \"title\": \"Notifications\",\r\n          \"query_path\": \"notifications\"\r\n        },\r\n        {\r\n          \"title\": \"Currencies\",\r\n          \"query_path\": \"currencies\"\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIncluded protected sections display above custom sections.\r\n\r\n![Protected Sections](https://storage.googleapis.com/bigcommerce-production-dev-center/images/channels/channels-sf-protected-custom-settings.png \"Protected Sections\")\r\n\r\n<div class=\"HubBlock--callout\">\r\n<div class=\"CalloutBlock--warning\">\r\n<div class=\"HubBlock-content\">\r\n\r\n> **Note**\r\n>\r\n> - Any content an app attempts to render to the control panel iFrame for a protected section will be overridden by the BigCommerce provided content.\r\n\r\n</div>\r\n</div>\r\n</div>\r\n\r\n## Storefront settings\r\n\r\nInclude the `Storefront Settings` [protected section](#protected-ui-sections) in the channel's `config_meta` object to render the BigCommerce provided **Storefront Settings** tab on the channel's settings page.\r\n\r\n![Channel Storefront Settings](https://storage.googleapis.com/bigcommerce-production-dev-center/images/channels/channels-sf-storefront-settings.png \"Channel Storefront Settings\")\r\n\r\nRead channel specific storefront settings using the [Settings API](https://developer.bigcommerce.com/api-reference/store-management/settings). For example, to [get storefront category settings](https://developer.bigcommerce.com/api-reference/store-management/settings/storefront-category/getsettingsstorefrontcategory), send a `GET` request to `/v3/settings/storefront/category`.\r\n\r\n```http\r\nGET /stores/{{STORE_HASH}}/v3/settings/storefront/category?channel_id={{CHANNEL_ID}}\r\nHost: api.bigcommerce.com\r\nX-Auth-Token: {{ACCESS_TOKEN}}\r\nContent-Type: application/json\r\nAccept: application/json\r\n```\r\n\r\n[![Open in Request Runner](https://storage.googleapis.com/bigcommerce-production-dev-center/images/Open-Request-Runner.svg)](https://developer.bigcommerce.com/api-reference/store-management/settings/storefront-category/getsettingsstorefrontcategory#requestrunner)\r\n\r\n**Response:**\r\n\r\n```json\r\n{\r\n  \"data\": {\r\n    \"listing_mode\": null,\r\n    \"default_product_sort\": \"bestselling\",\r\n    \"category_tree_depth\": 0\r\n  },\r\n  \"meta\": {}\r\n}\r\n```\r\n\r\n[View the settings API Reference](https://developer.bigcommerce.com/api-reference/store-management/settings).\r\n\r\n## Currencies settings\r\n\r\nInclude the `Currencies` [protected section](#protected-ui-sections) in the channel's `config_meta` object to render the BigCommerce provided **Currencies** tab on the channel's settings page.\r\n\r\n![Channel Currency Settings](https://storage.googleapis.com/bigcommerce-production-dev-center/images/channels/channels-sf-currencies.png \"Channel Currency Settings\")\r\n\r\nYou can manage channel specific currency settings using the Channel API [Currency Assignments](https://developer.bigcommerce.com/api-reference/store-management/channels/channel-currency-assignments) endpoints. For example, To [get a channel's currency assignments](https://developer.bigcommerce.com/api-reference/store-management/channels/channel-currency-assignments/get-channels-channel-id-currency-assignments), send a `GET` request to `/v3/channels/{channel_id}/currency-assignments`.\r\n\r\n```http\r\nGET https://api.bigcommerce.com/stores/{{STORE_HASH}}}/v3/channels/{channel_id}/currency-assignments\r\nX-Auth-Token: {{ACCESS_TOKEN}}\r\nX-Auth-Client: {{CLIENT_ID}}\r\nContent-Type: application/json\r\nAccept: application/json\r\n```\r\n\r\n[![Open in Request Runner](https://storage.googleapis.com/bigcommerce-production-dev-center/images/Open-Request-Runner.svg)](https://developer.bigcommerce.com/api-reference/store-management/channels/channel-currency-assignments/get-channels-channel-id-currency-assignments#requestrunner)\r\n\r\n**Response:**\r\n\r\n```json\r\n{\r\n  \"data\": {\r\n    \"channel_id\": 1,\r\n    \"default_currency\": \"USD\",\r\n    \"enabled_currencies\": [\"USD\", \"CAD\"]\r\n  },\r\n  \"meta\": {}\r\n}\r\n```\r\n\r\n[View the Channels API reference](https://developer.bigcommerce.com/api-reference/store-management/channels).\r\n\r\n## Notification settings\r\n\r\nInclude the `Notifications` [protected section](#protected-ui-sections) in the channel's `config_meta` object to render the BigCommerce provided **Notifications** tab on the channel's settings page.\r\n\r\n![Channel Notification Settings](https://storage.googleapis.com/bigcommerce-production-dev-center/images/channels/channels-sf-notifications-small.png \"Channel Notification Settings\")\r\n\r\n## Related resources\r\n\r\n### Articles\r\n\r\n- [Building Apps](https://developer.bigcommerce.com/api-docs/apps/guide/intro)\r\n- [Building Channels](https://developer.bigcommerce.com/api-docs/channels/guide/overview)\r\n- [Find an App's ID](https://developer.bigcommerce.com/api-docs/apps/tutorials/id)\r\n\r\n### Endpoints\r\n\r\n- [Channels API Reference](https://developer.bigcommerce.com/api-reference/cart-checkout/channels-listings-api)\r\n- [Settings API Reference](https://developer.bigcommerce.com/api-reference/store-management/settings)\r\n"}],"children":[]}}}}
