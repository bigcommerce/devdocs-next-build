{"path":"stencil-docs/deploying-a-theme/checking-a-themes-size","templateID":0,"sharedPropsHashes":{"nav":"Z2k7O5R","sidebarTree":"23J4Lj","namespace":"Zd6xn0"},"localProps":{"version":"1.3","crumbs":[{"content":"Stencil Docs","to":"/stencil-docs"},{"content":"Deployment","to":"/stencil-docs/deploying-a-theme"},{"content":"Checking a Theme's Size","to":"/stencil-docs/deploying-a-theme/checking-a-themes-size"}],"page":{"meta":{"title":"Checking a Theme's Size - Deployment - Stencil Docs","url":"/stencil-docs/deploying-a-theme/checking-a-themes-size","description":"Checking a Theme's Size\n\n\n\nOn this page\n\nShrinking a theme\n\nOrganizing a theme\n\nResources\n\n\n\nIdeally, your theme should bundle into an archive of only a..."},"title":"Checking a Theme's Size","parsedPath":["pages","/stencil-docs","data","children",9,"data","children",1],"rootPagePath":"/stencil-docs","path":"/stencil-docs/deploying-a-theme/checking-a-themes-size","isSubpage":true,"route":{"path":"/checking-a-themes-size"},"data":{"blocks":[{"type":"text","data":"# Checking a Theme's Size\r\n\r\n<div class=\"otp\" id=\"no-index\">\r\n\r\n### On this page\r\n- [Shrinking a theme](#shrinking-a-theme)\r\n- [Organizing a theme](#organizing-a-theme)\r\n- [Resources](#resources)\r\n\r\n</div> \r\n\r\nIdeally, your theme should bundle into an archive of only a few megabytes (MB). BigCommerce imposes a hard limit of 50 MB, but most themes do not approach this limit unless they include many large static assets. If your theme does not exceed 50 MB, follow the steps outlined in [Bundling and Pushing a Theme](https://developer.bigcommerce.com/stencil-docs/deploying-a-theme/bundling-and-pushing) to process and package your theme for upload to BigCommerce.\r\n\r\n\r\nIf your theme exceeds the 50 MB limit, you have two options:\r\n\r\n* Shrink your theme with the help of WebDAV.\r\n* Stage your theme for CDN delivery.\r\n\r\n## Shrinking a theme\r\n\r\n### Restructuring your theme\r\n\r\nIn this section, you will first isolate static assets from your theme's local directory, then use WebDAV to cloud-host those assets, and finally reference those assets using Stencil's `{{cdn}}` Handlebars helper. For an existing theme, make a backup of your whole `theme‑name` directory before proceeding.\r\n\r\nExamine your theme's `assets` subdirectory and its intended contents. Check for large static assets like images, especially in `assets/img/`, and videos that are likely to cause a bundled ZIP file to exceed BigCommerce's 50 MB limit.\r\n\r\nUse WebDAV to upload these items to WebDAV's `remote /content/` directory. For more information on WebDAV, see [Connecting to WebDAV](https://support.bigcommerce.com/s/article/File-Access-WebDAV).\r\n\r\nThroughout your theme, reference each of these assets using Stencil’s `{{cdn}}` Handlebars helper, prepending the `webdav:` option to the `assetPath` parameter.\r\n\r\nPrepending `webdav:` will build a URL in the remote WebDAV directory. This allows your theme's deployed topology to diverge from your local directory structure. The `{{cdn}}` helper will treat `content` as the root WebDAV directory. \r\n\r\nFor example, this statement\r\n\r\n\r\n```\r\n<img src=\"{{cdn \"webdav:img/image.jpg\"}}\">\r\n```\r\n\r\nwill build the following URL:\r\n\r\n```\r\n<img src=\"https://cdn.bcapp/3dsf74g/content/img/image.jpg\">\r\n```\r\n\r\nOn your local machine, move the large static assets to a location where the `stencil bundle` command will ignore them. This can be a location outside your theme's directory, or it can be the `assets/cdn/` subdirectory, which `stencil bundle` excludes from bundling. Separating these assets is necessary to exclude them from the next step.\r\n\r\nRun the `stencil bundle` command from inside your streamlined `theme‑name` directory. Once your resulting ZIP file is 50 MB or smaller, you are ready to upload it to BigCommerce. For more information, see [Bundling and Pushing a Theme](https://developer.bigcommerce.com/stencil-docs/deploying-a-theme/bundling-and-pushing).\r\n\r\n<div class=\"HubBlock--callout\">\r\n<div class=\"CalloutBlock--warning\">\r\n<div class=\"HubBlock-content\">\r\n\r\n<!-- theme: warning -->\r\n\r\n### URL references to assets\r\n\r\n> Both in production and locally, subdirectories of your theme's `assets` directory, such as `img`,`js`, and `fonts`, are parallel to its `scss` subdirectory. Within your CSS, path references to such assets should reflect this parallel relationship, for example: `../img/test.jpg`.\r\n\r\n</div>\r\n</div>\r\n</div>\r\n\r\n### WebDAV folders and Stencil themes\r\n\r\nIf you have used WebDAV in developing BigCommerce's Blueprint generation of themes, you will see some differences when uploading Stencil themes. Depending on the type of theme that is active in the merchant's store, the directories accessible through WebDAV will change as shown in the table below.\r\n\r\n| Blueprint theme | Stencil theme |\r\n| ----------- | ----------- |\r\n| `content` | `content` |\r\n| `product_images` | `product_images` |\r\n| `product_downloads` | `product_downloads` |\r\n| `import_files` | `import_files` |\r\n| `exports` | `exports` |\r\n| `template` | - |\r\n| `mobile_template` | - |\r\n\r\nThe overall difference is that the WebDAV `template` and `mobile_template` directories are **not** available for Stencil themes. These templates must reside and remain within your Stencil theme's local directory and file structure.\r\n\r\n## Organizing a theme\r\n\r\nFor themes that would otherwise exceed BigCommerce's 50 MB limit on uploads, delivering your theme's large static assets using a CDN is an alternative to WebDAV.\r\n\r\nThe advantage of this alternative is that all assets stay within your theme's directory, so your theme's local structure matches its deployed structure. The disadvantage is that the procedure outlined below requires the expense of a CDN.\r\n\r\nTo stage your theme for CDN delivery, you would locally store your large static assets within your theme's\r\n`assets/cdn/` subdirectory. By design, the `stencil bundle` command omits this subdirectory's contents. So those contents do not count against the 50 MB limit on the resulting ZIP file.\r\n\r\nAs you develop your theme, reference each of these assets using Stencil's `{{cdn}}` custom Handlebars helper, for example:\r\n\r\n```\r\n<img src=\"{{cdn \"webdav:img/image.jpg\"}}\">\r\n```\r\n\r\n<div class=\"HubBlock--callout\">\r\n<div class=\"CalloutBlock--\">\r\n<div class=\"HubBlock-content\">\r\n\r\n<!-- theme:  -->\r\n\r\n> The presumed WebDAV root directory is `content`. In this example, the `image.jpg` file had been uploaded to the WebDAV `content` directory. The presumed local directory for other CDNs is `assets`, so you can omit that path when referencing its contained files or subdirectories.\r\n\r\n</div>\r\n</div>\r\n</div>\r\n\r\nWhen you are ready to upload your theme to BigCommerce, follow the process outlined in [Bundling and Pushing a Theme](https://developer.bigcommerce.com/stencil-docs/deploying-a-theme/bundling-and-pushing).\r\n\r\n## Resources\r\n\r\n### Related articles\r\n* [Bundling and Pushing a Theme](https://developer.bigcommerce.com/stencil-docs/deploying-a-theme/bundling-and-pushing)\r\n* [Naming Your Theme and Theme Variations](https://developer.bigcommerce.com/stencil-docs/deploying-a-theme/naming-your-theme)\r\n* [Preparing Thumbnail Images](https://developer.bigcommerce.com/stencil-docs/deploying-a-theme/preparing-thumbnail-images)\r\n* [File Access (WebDAV)](https://support.bigcommerce.com/s/article/File-Access-WebDAV#manual) (BigCommerce Knowledge Base)\r\n"}],"children":[]}}}}
